<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · TSx.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://xKDR.github.io/TSx.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>TSx.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/xKDR/TSx.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="TSx"><a class="docs-heading-anchor" href="#TSx">TSx</a><a id="TSx-1"></a><a class="docs-heading-anchor-permalink" href="#TSx" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/xKDR/TSx.jl">TSx</a>.</p><ul><li><a href="#TSx.TS"><code>TSx.TS</code></a></li><li><a href="#Base.getindex-Tuple{TS, Int64}"><code>Base.getindex</code></a></li><li><a href="#Base.join-Tuple{TS, TS}"><code>Base.join</code></a></li><li><a href="#Base.size-Tuple{TS}"><code>Base.size</code></a></li><li><a href="#TSx.apply-Union{Tuple{V}, Tuple{T}, Tuple{TS, Union{Type{T}, T}, V}, Tuple{TS, Union{Type{T}, T}, V, Function}} where {T&lt;:Union{Dates.DatePeriod, Dates.TimePeriod}, V&lt;:Function}"><code>TSx.apply</code></a></li><li><a href="#TSx.index-Tuple{TS}"><code>TSx.index</code></a></li><li><a href="#TSx.ncol-Tuple{TS}"><code>TSx.ncol</code></a></li><li><a href="#TSx.nrow-Tuple{TS}"><code>TSx.nrow</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="TSx.TS" href="#TSx.TS"><code>TSx.TS</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct TS
  coredata :: DataFrame
end</code></pre><p><code>::TS</code> - A type to hold ordered data with an index.</p><p>A TS object is essentially a <code>DataFrame</code> with a specific column marked as an index and has the name <code>Index</code>. The DataFrame is sorted using index values during construction.</p><p><strong>Constructors</strong></p><pre><code class="language-julia hljs">TS(coredata::DataFrame, index::Union{String, Symbol, Int}=1)
TS(coredata::DataFrame, index::AbstractVector{T}) where {T&lt;:Int}
TS(coredata::DataFrame, index::UnitRange{Int})
TS(coredata::AbstractVector{T}, index::AbstractVector{V}) where {T, V}
TS(coredata::AbstractVector{T}) where {T}
TS(coredata::AbstractArray{T,2}, meta::Dict=Dict{String, Any}()) where {T}</code></pre><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; df = DataFrame(x1 = randn(10))
julia&gt; TS(df)

julia&gt; df = DataFrame(Index = [1, 2, 3], x1 = randn(3))
julia&gt; TS(df, 1)

julia&gt; dates = collect(Date(2017,1,1):Day(1):Date(2017,1,10))
julia&gt; df = DataFrame(dates = dates, x1 = randn(10))
julia&gt; TS(df, :dates)
julia&gt; TS(DataFrame(x1=randn(10), dates))

julia&gt; TS(randn(10))
julia&gt; TS(randn(10), dates)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L44-L81">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.getindex-Tuple{TS, Int64}" href="#Base.getindex-Tuple{TS, Int64}"><code>Base.getindex</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Subsetting/Indexing</strong></p><p><code>TS</code> can be subset using row and column indices. The row selector could be an integer, a range, an array or it could also be a <code>Date</code> object or an ISO-formatted date string (&quot;2007-04-10&quot;). There are methods to subset on year, year-month, and year-quarter.</p><p>The latter two subset <code>coredata</code> by matching on the index column.</p><p>Column selector could be an integer or any other selector which <code>DataFrame</code> indexing supports. To fetch the index column one can use the <code>index()</code> method on the <code>TS</code> object.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ts = TS([randn(10) randn(10) randn(10)])
julia&gt; ts[1]
julia&gt; ts[1:5]
julia&gt; ts[1:5, 2]
julia&gt; ts[1:5, 2:3]
julia&gt; ts[[1, 9]]               # individual rows

julia&gt; dates = collect(Date(2007):Day(1):Date(2008, 2, 22))
julia&gt; ts = TS(randn(length(dates)), dates)
julia&gt; ts[Date(2007, 01, 01)]
julia&gt; ts[Date(2007)]
julia&gt; ts[Year(2007)]
julia&gt; ts[Year(2007), Month(11)]
julia&gt; ts[Year(2007), Quarter(2)]
julia&gt; ts[&quot;2007-01-01&quot;]

julia&gt; ts[1, :x1]
julia&gt; ts[1, &quot;x1&quot;]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L203-L240">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.join-Tuple{TS, TS}" href="#Base.join-Tuple{TS, TS}"><code>Base.join</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Joins/Column-binding</strong></p><p><code>TS</code> objects can be combined together column-wise using <code>Index</code> as the column key. There are four kinds of column-binding operations possible as of now. Each join operation works by performing a Set operation on the <code>Index</code> column and then merging the datasets based on the output from the Set operation. Each operation changes column names in the final object automatically if the operation encounters duplicate column names amongst the TS objects.</p><p>The following join types are supported:</p><p><code>join(ts1::TS, ts2::TS, ::JoinBoth)</code></p><p>a.k.a. inner join, takes the intersection of the indexes of <code>ts1</code> and <code>ts2</code>, and then merges the columns of both the objects. The resulting object will only contain rows which are present in both the objects&#39; indexes. The function will renamine the columns in the final object if they had same names in the TS objects.</p><p><code>join(ts1::TS, ts2::TS, ::JoinAll)</code>:</p><p>a.k.a. outer join, takes the union of the indexes of <code>ts1</code> and <code>ts2</code> before merging the other columns of input objects. The output will contain rows which are present in all the input objects while inserting <code>missing</code> values where a row was not present in any of the objects. This is the default behaviour if no <code>JoinType</code> object is provided.</p><p><code>join(ts1::TS, ts2::TS, ::JoinLeft)</code>:</p><p>Left join, takes the index values which are present in the left object <code>ts1</code> and finds matching index values in the right object <code>ts2</code>. The resulting object includes all the rows from the left object, the column values from the left object, and the values associated with matching index rows on the right. The operation inserts <code>missing</code> values where in the unmatched rows of the right object.</p><p><code>join(ts1::TS, ts2::TS, ::JoinRight)</code></p><p>Right join, similar to left join but works in the opposite direction. The final object contains all the rows from the right object while inserting <code>missing</code> values in rows missing from the left object.</p><p>The default behaviour is to assume <code>JoinAll()</code> if no <code>JoinType</code> object is provided to the <code>join</code> method.</p><p><code>cbind</code> is an alias for <code>join</code> method.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ts1 = TS(randn(10), 1:10)
julia&gt; ts2 = TS(randn(10), 1:10)

julia&gt; join(ts1, ts2, JoinAll()) # with `missing` inserted
julia&gt; join(ts1, ts2)            # same as JoinAll()
julia&gt; join(ts1, ts2, JoinBoth())
julia&gt; join(ts1, ts2, JoinLeft())
julia&gt; join(ts1, ts2, JoinRight())

# Using TimeType objects
julia&gt; dates = collect(Date(2017,1,1):Day(1):Date(2017,1,10))
julia&gt; ts1 = TS(randn(length(dates)), dates)
julia&gt; dates = collect(Date(2017,1,1):Day(1):Date(2017,1,30))
julia&gt; ts2 = TS(randn(length(dates)), dates)

julia&gt; join(ts1, ts2)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L526-L597">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Base.size-Tuple{TS}" href="#Base.size-Tuple{TS}"><code>Base.size</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Size methods</strong></p><p><code>size(ts::TS)</code> Return the number of rows and columns of <code>ts</code> as a tuple.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ts = TS([randn(100) randn(100) randn(100)])
julia&gt; size(ts)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L351-L361">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TSx.apply-Union{Tuple{V}, Tuple{T}, Tuple{TS, Union{Type{T}, T}, V}, Tuple{TS, Union{Type{T}, T}, V, Function}} where {T&lt;:Union{Dates.DatePeriod, Dates.TimePeriod}, V&lt;:Function}" href="#TSx.apply-Union{Tuple{V}, Tuple{T}, Tuple{TS, Union{Type{T}, T}, V}, Tuple{TS, Union{Type{T}, T}, V, Function}} where {T&lt;:Union{Dates.DatePeriod, Dates.TimePeriod}, V&lt;:Function}"><code>TSx.apply</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Apply/Period conversion</strong></p><p><code>apply(ts::TS, period::Union{T,Type{T}},       fun::V,       index_at::Function=first)      where {T&lt;:Union{DatePeriod,TimePeriod}, V&lt;:Function}</code></p><p>Apply <code>fun</code> to <code>ts</code> object based on <code>period</code> and return correctly indexed rows. This method is used for doing aggregation over a time period or to convert <code>ts</code> into an object of lower frequency (ex. from daily series to monthly).</p><p><code>period</code> is any of <code>Period</code> types in the <code>Dates</code> module. Conversion from lower to a higher frequency will throw an error as interpolation isn&#39;t currently handled by this method.</p><p>By default, the method uses the first value of the index within the period to index the resulting aggregated object. This behaviour can be controlled by <code>index_at</code> argument which can take <code>first</code> or <code>last</code> as an input.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; dates = collect(Date(2017,1,1):Day(1):Date(2018,3,10))
julia&gt; ts = TS(DataFrame(Index = dates, x1 = randn(length(dates))))

# take the first observation in each month
julia&gt; ts_monthly = apply(tsd, Month, first)
# alternate months
julia&gt; ts_two_monthly = apply(tsd, Month(2), first)

# weekly standard deviation
julia&gt; ts_monthly = apply(tsd, Week, Statistics.std)
# indexed by last date of the week
julia&gt; ts_monthly = apply(tsd, Week, Statistics.std, last)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L391-L427">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TSx.index-Tuple{TS}" href="#TSx.index-Tuple{TS}"><code>TSx.index</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Index column</strong></p><p>Return the index vector from the TS DataFrame.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ts = TS(randn(10), today():Month(1):today()+Month(9))
julia&gt; index(ts)
julia&gt; typeof(index(ts))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L369-L380">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TSx.ncol-Tuple{TS}" href="#TSx.ncol-Tuple{TS}"><code>TSx.ncol</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Size methods</strong></p><p><code>ncol(ts::TS)</code> Return the number of columns of <code>ts</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ts = TS([randn(100) randn(100) randn(100)])
julia&gt; ncol(ts)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L335-L345">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="TSx.nrow-Tuple{TS}" href="#TSx.nrow-Tuple{TS}"><code>TSx.nrow</code></a> — <span class="docstring-category">Method</span></header><section><div><p><strong>Size methods</strong></p><p><code>nrow(ts::TS)</code> Return the number of rows of <code>ts</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; ts = TS(randn(100))
julia&gt; nrow(ts)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/xKDR/TSx.jl/blob/4e2fd6ee0ac23f2b8e85260397a0c5d2f86c7bfc/src/TSx.jl#L319-L329">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Thursday 14 April 2022 11:36">Thursday 14 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
