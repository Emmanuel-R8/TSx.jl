<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>User guide · TSx.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://xKDR.github.io/TSx.jl/user_guide/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">TSx.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><a class="tocitem" href="../demo_finance/">Basic demo of TSx</a></li><li class="is-active"><a class="tocitem" href>User guide</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#Constructing-TS-objects"><span>Constructing TS objects</span></a></li><li><a class="tocitem" href="#Indexing-and-subsetting"><span>Indexing and subsetting</span></a></li><li><a class="tocitem" href="#Summary-statistics"><span>Summary statistics</span></a></li><li><a class="tocitem" href="#Plotting"><span>Plotting</span></a></li><li><a class="tocitem" href="#Applying-a-function-over-a-period"><span>Applying a function over a period</span></a></li><li><a class="tocitem" href="#Joins:-Row-and-column-binding-with-other-objects"><span>Joins: Row and column binding with other objects</span></a></li><li><a class="tocitem" href="#Rolling-window-operations"><span>Rolling window operations</span></a></li><li><a class="tocitem" href="#Computing-rolling-difference-and-percent-change"><span>Computing rolling difference and percent change</span></a></li><li><a class="tocitem" href="#Computing-log-of-data-values"><span>Computing log of data values</span></a></li><li><a class="tocitem" href="#Creating-lagged/leading-series"><span>Creating lagged/leading series</span></a></li><li><a class="tocitem" href="#Converting-to-Matrix-and-DataFrame"><span>Converting to Matrix and DataFrame</span></a></li><li><a class="tocitem" href="#Writing-TS-into-a-CSV-file"><span>Writing TS into a CSV file</span></a></li><li><a class="tocitem" href="#API-reference"><span>API reference</span></a></li></ul></li><li><a class="tocitem" href="../api/">API reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>User guide</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>User guide</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/xKDR/TSx.jl/blob/master/docs/src/user_guide.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Tutorial"><a class="docs-heading-anchor" href="#Tutorial">Tutorial</a><a id="Tutorial-1"></a><a class="docs-heading-anchor-permalink" href="#Tutorial" title="Permalink"></a></h1><p>This page describes how to use the TSx package for timeseries data handling.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs">julia&gt; using Pkg
julia&gt; Pkg.add(url=&quot;https://github.com/xKDR/TSx.jl&quot;)</code></pre><h2 id="Constructing-TS-objects"><a class="docs-heading-anchor" href="#Constructing-TS-objects">Constructing TS objects</a><a id="Constructing-TS-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Constructing-TS-objects" title="Permalink"></a></h2><p>After installing TSx you need to load the package in Julia environment. Then, create a basic <code>TS</code> object.</p><pre><code class="language-julia hljs">julia&gt; using TSx

julia&gt; ts = TS(1:10)
(10 x 1) TS with Int64 Index

 Index  x1
 Int64  Int64
──────────────
     1      1
     2      2
     3      3
     4      4
     5      5
     6      6
     7      7
     8      8
     9      9
    10     10

julia&gt; show(ts.coredata)
10×2 DataFrame
 Row │ Index  x1
     │ Int64  Int64
─────┼──────────────
   1 │     1      1
   2 │     2      2
   3 │     3      3
   4 │     4      4
   5 │     5      5
   6 │     6      6
   7 │     7      7
   8 │     8      8
   9 │     9      9
  10 │    10     10
</code></pre><p>The basic TS constructor takes in a <code>Vector</code> of any type and automatically generates an index out of it (the <code>Index</code> column).</p><p>There are many ways to construct a <code>TS</code> object. For real world applications you would want to read in a CSV file or download a dataset as a <code>DataFrame</code> and then operate on it. You can easily convert a <code>DataFrame</code> to a <code>TS</code> object.</p><pre><code class="language-julia hljs">julia&gt; using CSV, DataFrames

julia&gt; filename = joinpath(dirname(pathof(TSx)),
           &quot;..&quot;, &quot;docs&quot;, &quot;src&quot;, &quot;assets&quot;, &quot;sample_daily.csv&quot;)

julia&gt; df = CSV.read(filename, DataFrame)
431×2 DataFrame
 Row │ date        value
     │ Date        Float64
─────┼──────────────────────
   1 │ 2007-01-01  10.1248
   2 │ 2007-01-02  10.3424
   3 │ 2007-01-03   7.83777
   4 │ 2007-01-04   9.87616
   5 │ 2007-01-05  12.4548
   6 │ 2007-01-06   8.63084
   7 │ 2007-01-07   8.67409
   8 │ 2007-01-08   9.75221
   9 │ 2007-01-09   8.76406
  ⋮  │     ⋮          ⋮
 423 │ 2008-02-27  10.2757
 424 │ 2008-02-28  10.6202
 425 │ 2008-02-29  10.6328
 426 │ 2008-03-01  10.5008
 427 │ 2008-03-02   7.88032
 428 │ 2008-03-03   9.95546
 429 │ 2008-03-04   8.26072
 430 │ 2008-03-05   9.04647
 431 │ 2008-03-06   8.85252
            413 rows omitted


julia&gt; ts = TS(df)
(431 x 1) TS with Date Index

 Index       value
 Date        Float64
──────────────────────
 2007-01-01  10.1248
 2007-01-02  10.3424
 2007-01-03   7.83777
 2007-01-04   9.87616
 2007-01-05  12.4548
 2007-01-06   8.63084
 2007-01-07   8.67409
 2007-01-08   9.75221
 2007-01-09   8.76406
 2007-01-10  10.8087
     ⋮          ⋮
 2008-02-27  10.2757
 2008-02-28  10.6202
 2008-02-29  10.6328
 2008-03-01  10.5008
 2008-03-02   7.88032
 2008-03-03   9.95546
 2008-03-04   8.26072
 2008-03-05   9.04647
 2008-03-06   8.85252
      412 rows omitted
</code></pre><p>In the above example you load a CSV file bundled with TSx package, store it into a DataFrame <code>df</code> and then convert <code>df</code> into a <code>TS</code> object <code>ts</code>. The top line of the <code>ts</code> object tells you the number of rows (<code>431</code> here) and the number of columns (<code>1</code>) along with the <code>Type</code> of <code>Index</code> (<code>Dates.Date</code> in the above example).</p><p>You can also fetch the number of rows and columns by using <code>nr(ts)</code>, <code>nc(ts)</code>, and <code>size(ts)</code> methods. Respectively, they fetch the number of rows, columns, and a <code>Tuple</code> of row and column numbers. A <code>length(::TS)</code> method is also provided for convenience which returns the number of rows of it&#39;s argument.</p><p>Names of data columns can be fetched using the <code>names(ts)</code> method which returns a <code>Vector{String}</code> object. The <code>Index</code> column can be fetched as an object of <code>Vector</code> type by using the <code>index(ts)</code> method, it can also be fetched directly using the underlying <code>coredata</code> property of TS: <code>ts.coredata[!, :Index]</code>.</p><p>Another simpler way to read a CSV directly into a TS object is by using pipes.</p><pre><code class="language-julia hljs">julia&gt; ts = CSV.File(filename) |&gt; DataFrame |&gt; TS</code></pre><h2 id="Indexing-and-subsetting"><a class="docs-heading-anchor" href="#Indexing-and-subsetting">Indexing and subsetting</a><a id="Indexing-and-subsetting-1"></a><a class="docs-heading-anchor-permalink" href="#Indexing-and-subsetting" title="Permalink"></a></h2><p>One of the primary features of a timeseries package is to provide ways to index or subset a dataset using convenient interfaces. TSx makes it easier to index a <code>TS</code> object by providing multiple intuitive <code>getindex</code> methods which work by just using the regular square parenthese (<code>[ ]</code>).</p><pre><code class="language-julia hljs"># first row
julia&gt; ts[1]
(1 x 1) TS with Dates.Date Index

 Index       value
 Date        Float64
─────────────────────
 2007-01-01  10.1248


# third, fifth row and first column
julia&gt; ts[[3, 5], 1]
(1 x 1) TS with Date Index

 Index       value
 Date        Float64
─────────────────────
 2007-01-03  7.83777


# first 10 rows and the first column
julia&gt; ts[1:10, 1]
(10 x 1) TS with Dates.Date Index

 Index       value
 Date        Float64
──────────────────────
 2007-01-01  10.1248
 2007-01-02  10.3424
 2007-01-03   7.83777
 2007-01-04   9.87616
 2007-01-05  12.4548
 2007-01-06   8.63084
 2007-01-07   8.67409
 2007-01-08   9.75221
 2007-01-09   8.76406
 2007-01-10  10.8087


# using the column name
julia&gt; ts[1, :value]
(1 x 1) TS with Dates.Date Index

 Index       value
 Date        Float64
─────────────────────
 2007-01-01  10.1248
</code></pre><p>Apart from integer-based row indexing and integer, name based column indexing, TSx provides special subsetting methods for date and time types defined inside the <code>Dates</code> module.</p><pre><code class="language-julia hljs">julia&gt; using Dates

# on January 10, 2007
julia&gt; ts[Date(2007, 1, 10)]
(1 x 1) TS with Date Index

 Index       value
 Date        Float64
─────────────────────
 2007-01-10  10.8087


# entire January 2007
julia&gt; ts[Year(2007), Month(1)]
(31 x 1) TS with Date Index

 Index       value
 Date        Float64
──────────────────────
 2007-01-01  10.1248
 2007-01-02  10.3424
 2007-01-03   7.83777
 2007-01-04   9.87616
 2007-01-05  12.4548
 2007-01-06   8.63084
 2007-01-07   8.67409
 2007-01-08   9.75221
 2007-01-09   8.76406
 2007-01-10  10.8087
 2007-01-11   9.74481
 2007-01-12  11.0995
 2007-01-13   9.54143
 2007-01-14  11.167
 2007-01-15  10.144
 2007-01-16  11.1019
 2007-01-17  10.5315
 2007-01-18  10.0811
 2007-01-19  12.5888
 2007-01-20  10.2757
 2007-01-21  10.6202
 2007-01-22  10.6328
 2007-01-23  10.5008
 2007-01-24   7.88032
 2007-01-25   9.95546
 2007-01-26   8.26072
 2007-01-27   9.04647
 2007-01-28   8.85252
 2007-01-29   8.47322
 2007-01-30  11.0956
 2007-01-31  10.5902

julia&gt; ts[Year(2007), Quarter(2)];
</code></pre><h2 id="Summary-statistics"><a class="docs-heading-anchor" href="#Summary-statistics">Summary statistics</a><a id="Summary-statistics-1"></a><a class="docs-heading-anchor-permalink" href="#Summary-statistics" title="Permalink"></a></h2><p>The <code>describe()</code> method prints summary statistics of the TS object. The output is a <code>DataFrame</code> which includes the number of missing values, data types of columns along with computed statistical values.</p><pre><code class="language-julia hljs">julia&gt; TSx.describe(ts)
2×7 DataFrame
 Row │ variable  mean     min         median      max         nmissing  eltype
     │ Symbol    Union…   Any         Any         Any         Int64     DataType
─────┼───────────────────────────────────────────────────────────────────────────
   1 │ Index              2007-01-01  2007-08-04  2008-03-06         0  Date
   2 │ value     9.98177  7.83777     10.1248     12.5888            0  Float64
</code></pre><h2 id="Plotting"><a class="docs-heading-anchor" href="#Plotting">Plotting</a><a id="Plotting-1"></a><a class="docs-heading-anchor-permalink" href="#Plotting" title="Permalink"></a></h2><p>A TS object can be plotted using the <code>plot()</code> function of the <code>Plots</code> package. The plotting functionality is provided by <code>RecipesBase</code> package so all the flexibility and functionality of the <code>Plots</code> package is available for users.</p><pre><code class="language-julia hljs">using Plots
using TSx

ts = TS(rand(100))

plot(ts)

plot(ts, size=(600,400))</code></pre><?xml version="1.0" encoding="utf-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="600" height="400" viewBox="0 0 2400 1600">
<defs>
  <clipPath id="clip540">
    <rect x="0" y="0" width="2400" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip540)" d="
M0 1600 L2400 1600 L2400 0 L0 0  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip541">
    <rect x="480" y="0" width="1681" height="1600"/>
  </clipPath>
</defs>
<path clip-path="url(#clip540)" d="
M219.866 1423.18 L2352.76 1423.18 L2352.76 47.2441 L219.866 47.2441  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<defs>
  <clipPath id="clip542">
    <rect x="219" y="47" width="2134" height="1377"/>
  </clipPath>
</defs>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  259.906,1423.18 259.906,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  768.027,1423.18 768.027,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1276.15,1423.18 1276.15,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  1784.27,1423.18 1784.27,47.2441 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  2292.39,1423.18 2292.39,47.2441 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,1423.18 2352.76,1423.18 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  259.906,1423.18 259.906,1404.28 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  768.027,1423.18 768.027,1404.28 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1276.15,1423.18 1276.15,1404.28 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1784.27,1423.18 1784.27,1404.28 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2292.39,1423.18 2292.39,1404.28 
  "/>
<path clip-path="url(#clip540)" d="M259.906 1454.1 Q256.295 1454.1 254.466 1457.66 Q252.661 1461.2 252.661 1468.33 Q252.661 1475.44 254.466 1479.01 Q256.295 1482.55 259.906 1482.55 Q263.54 1482.55 265.346 1479.01 Q267.175 1475.44 267.175 1468.33 Q267.175 1461.2 265.346 1457.66 Q263.54 1454.1 259.906 1454.1 M259.906 1450.39 Q265.716 1450.39 268.772 1455 Q271.851 1459.58 271.851 1468.33 Q271.851 1477.06 268.772 1481.67 Q265.716 1486.25 259.906 1486.25 Q254.096 1486.25 251.017 1481.67 Q247.962 1477.06 247.962 1468.33 Q247.962 1459.58 251.017 1455 Q254.096 1450.39 259.906 1450.39 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M747.298 1481.64 L763.618 1481.64 L763.618 1485.58 L741.673 1485.58 L741.673 1481.64 Q744.335 1478.89 748.919 1474.26 Q753.525 1469.61 754.706 1468.27 Q756.951 1465.74 757.831 1464.01 Q758.734 1462.25 758.734 1460.56 Q758.734 1457.8 756.789 1456.07 Q754.868 1454.33 751.766 1454.33 Q749.567 1454.33 747.113 1455.09 Q744.683 1455.86 741.905 1457.41 L741.905 1452.69 Q744.729 1451.55 747.183 1450.97 Q749.636 1450.39 751.673 1450.39 Q757.044 1450.39 760.238 1453.08 Q763.433 1455.77 763.433 1460.26 Q763.433 1462.39 762.622 1464.31 Q761.835 1466.2 759.729 1468.8 Q759.15 1469.47 756.048 1472.69 Q752.947 1475.88 747.298 1481.64 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M773.479 1451.02 L791.835 1451.02 L791.835 1454.96 L777.761 1454.96 L777.761 1463.43 Q778.78 1463.08 779.798 1462.92 Q780.817 1462.73 781.835 1462.73 Q787.622 1462.73 791.002 1465.9 Q794.381 1469.08 794.381 1474.49 Q794.381 1480.07 790.909 1483.17 Q787.437 1486.25 781.118 1486.25 Q778.942 1486.25 776.673 1485.88 Q774.428 1485.51 772.02 1484.77 L772.02 1480.07 Q774.104 1481.2 776.326 1481.76 Q778.548 1482.32 781.025 1482.32 Q785.03 1482.32 787.368 1480.21 Q789.706 1478.1 789.706 1474.49 Q789.706 1470.88 787.368 1468.77 Q785.03 1466.67 781.025 1466.67 Q779.15 1466.67 777.275 1467.08 Q775.423 1467.5 773.479 1468.38 L773.479 1451.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1250.85 1451.02 L1269.2 1451.02 L1269.2 1454.96 L1255.13 1454.96 L1255.13 1463.43 Q1256.15 1463.08 1257.17 1462.92 Q1258.19 1462.73 1259.2 1462.73 Q1264.99 1462.73 1268.37 1465.9 Q1271.75 1469.08 1271.75 1474.49 Q1271.75 1480.07 1268.28 1483.17 Q1264.81 1486.25 1258.49 1486.25 Q1256.31 1486.25 1254.04 1485.88 Q1251.8 1485.51 1249.39 1484.77 L1249.39 1480.07 Q1251.47 1481.2 1253.7 1481.76 Q1255.92 1482.32 1258.39 1482.32 Q1262.4 1482.32 1264.74 1480.21 Q1267.07 1478.1 1267.07 1474.49 Q1267.07 1470.88 1264.74 1468.77 Q1262.4 1466.67 1258.39 1466.67 Q1256.52 1466.67 1254.64 1467.08 Q1252.79 1467.5 1250.85 1468.38 L1250.85 1451.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1290.96 1454.1 Q1287.35 1454.1 1285.52 1457.66 Q1283.72 1461.2 1283.72 1468.33 Q1283.72 1475.44 1285.52 1479.01 Q1287.35 1482.55 1290.96 1482.55 Q1294.6 1482.55 1296.4 1479.01 Q1298.23 1475.44 1298.23 1468.33 Q1298.23 1461.2 1296.4 1457.66 Q1294.6 1454.1 1290.96 1454.1 M1290.96 1450.39 Q1296.77 1450.39 1299.83 1455 Q1302.91 1459.58 1302.91 1468.33 Q1302.91 1477.06 1299.83 1481.67 Q1296.77 1486.25 1290.96 1486.25 Q1285.15 1486.25 1282.07 1481.67 Q1279.02 1477.06 1279.02 1468.33 Q1279.02 1459.58 1282.07 1455 Q1285.15 1450.39 1290.96 1450.39 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1758.12 1451.02 L1780.35 1451.02 L1780.35 1453.01 L1767.8 1485.58 L1762.92 1485.58 L1774.72 1454.96 L1758.12 1454.96 L1758.12 1451.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1789.51 1451.02 L1807.87 1451.02 L1807.87 1454.96 L1793.8 1454.96 L1793.8 1463.43 Q1794.81 1463.08 1795.83 1462.92 Q1796.85 1462.73 1797.87 1462.73 Q1803.66 1462.73 1807.04 1465.9 Q1810.42 1469.08 1810.42 1474.49 Q1810.42 1480.07 1806.94 1483.17 Q1803.47 1486.25 1797.15 1486.25 Q1794.98 1486.25 1792.71 1485.88 Q1790.46 1485.51 1788.05 1484.77 L1788.05 1480.07 Q1790.14 1481.2 1792.36 1481.76 Q1794.58 1482.32 1797.06 1482.32 Q1801.06 1482.32 1803.4 1480.21 Q1805.74 1478.1 1805.74 1474.49 Q1805.74 1470.88 1803.4 1468.77 Q1801.06 1466.67 1797.06 1466.67 Q1795.18 1466.67 1793.31 1467.08 Q1791.46 1467.5 1789.51 1468.38 L1789.51 1451.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2252 1481.64 L2259.64 1481.64 L2259.64 1455.28 L2251.33 1456.95 L2251.33 1452.69 L2259.59 1451.02 L2264.27 1451.02 L2264.27 1481.64 L2271.91 1481.64 L2271.91 1485.58 L2252 1485.58 L2252 1481.64 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2291.35 1454.1 Q2287.74 1454.1 2285.91 1457.66 Q2284.1 1461.2 2284.1 1468.33 Q2284.1 1475.44 2285.91 1479.01 Q2287.74 1482.55 2291.35 1482.55 Q2294.98 1482.55 2296.79 1479.01 Q2298.62 1475.44 2298.62 1468.33 Q2298.62 1461.2 2296.79 1457.66 Q2294.98 1454.1 2291.35 1454.1 M2291.35 1450.39 Q2297.16 1450.39 2300.22 1455 Q2303.29 1459.58 2303.29 1468.33 Q2303.29 1477.06 2300.22 1481.67 Q2297.16 1486.25 2291.35 1486.25 Q2285.54 1486.25 2282.46 1481.67 Q2279.41 1477.06 2279.41 1468.33 Q2279.41 1459.58 2282.46 1455 Q2285.54 1450.39 2291.35 1450.39 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2321.51 1454.1 Q2317.9 1454.1 2316.07 1457.66 Q2314.27 1461.2 2314.27 1468.33 Q2314.27 1475.44 2316.07 1479.01 Q2317.9 1482.55 2321.51 1482.55 Q2325.15 1482.55 2326.95 1479.01 Q2328.78 1475.44 2328.78 1468.33 Q2328.78 1461.2 2326.95 1457.66 Q2325.15 1454.1 2321.51 1454.1 M2321.51 1450.39 Q2327.32 1450.39 2330.38 1455 Q2333.46 1459.58 2333.46 1468.33 Q2333.46 1477.06 2330.38 1481.67 Q2327.32 1486.25 2321.51 1486.25 Q2315.7 1486.25 2312.62 1481.67 Q2309.57 1477.06 2309.57 1468.33 Q2309.57 1459.58 2312.62 1455 Q2315.7 1450.39 2321.51 1450.39 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1200.85 1520.52 L1207.28 1520.52 L1207.28 1568.04 L1200.85 1568.04 L1200.85 1520.52 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1249.45 1546.53 L1249.45 1568.04 L1243.6 1568.04 L1243.6 1546.72 Q1243.6 1541.66 1241.62 1539.14 Q1239.65 1536.63 1235.7 1536.63 Q1230.96 1536.63 1228.22 1539.65 Q1225.49 1542.68 1225.49 1547.9 L1225.49 1568.04 L1219.6 1568.04 L1219.6 1532.4 L1225.49 1532.4 L1225.49 1537.93 Q1227.59 1534.72 1230.42 1533.13 Q1233.28 1531.54 1237.01 1531.54 Q1243.15 1531.54 1246.3 1535.36 Q1249.45 1539.14 1249.45 1546.53 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1284.59 1537.81 L1284.59 1518.52 L1290.45 1518.52 L1290.45 1568.04 L1284.59 1568.04 L1284.59 1562.7 Q1282.75 1565.88 1279.91 1567.44 Q1277.11 1568.97 1273.17 1568.97 Q1266.7 1568.97 1262.63 1563.81 Q1258.59 1558.65 1258.59 1550.25 Q1258.59 1541.85 1262.63 1536.69 Q1266.7 1531.54 1273.17 1531.54 Q1277.11 1531.54 1279.91 1533.1 Q1282.75 1534.62 1284.59 1537.81 M1264.64 1550.25 Q1264.64 1556.71 1267.28 1560.4 Q1269.95 1564.07 1274.6 1564.07 Q1279.25 1564.07 1281.92 1560.4 Q1284.59 1556.71 1284.59 1550.25 Q1284.59 1543.79 1281.92 1540.13 Q1279.25 1536.44 1274.6 1536.44 Q1269.95 1536.44 1267.28 1540.13 Q1264.64 1543.79 1264.64 1550.25 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1333 1548.76 L1333 1551.62 L1306.08 1551.62 Q1306.46 1557.67 1309.71 1560.85 Q1312.98 1564 1318.81 1564 Q1322.18 1564 1325.33 1563.17 Q1328.52 1562.35 1331.63 1560.69 L1331.63 1566.23 Q1328.48 1567.57 1325.17 1568.27 Q1321.86 1568.97 1318.46 1568.97 Q1309.93 1568.97 1304.93 1564 Q1299.97 1559.04 1299.97 1550.57 Q1299.97 1541.82 1304.68 1536.69 Q1309.42 1531.54 1317.44 1531.54 Q1324.63 1531.54 1328.8 1536.18 Q1333 1540.8 1333 1548.76 M1327.15 1547.04 Q1327.08 1542.23 1324.44 1539.37 Q1321.83 1536.5 1317.5 1536.5 Q1312.6 1536.5 1309.64 1539.27 Q1306.71 1542.04 1306.27 1547.07 L1327.15 1547.04 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M1371.1 1532.4 L1358.21 1549.74 L1371.77 1568.04 L1364.86 1568.04 L1354.49 1554.04 L1344.11 1568.04 L1337.2 1568.04 L1351.05 1549.39 L1338.38 1532.4 L1345.29 1532.4 L1354.74 1545.1 L1364.2 1532.4 L1371.1 1532.4 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  219.866,1405.4 2352.76,1405.4 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  219.866,1131.78 2352.76,1131.78 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  219.866,858.158 2352.76,858.158 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  219.866,584.536 2352.76,584.536 
  "/>
<polyline clip-path="url(#clip542)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="
  219.866,310.914 2352.76,310.914 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,1423.18 219.866,47.2441 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,1405.4 238.764,1405.4 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,1131.78 238.764,1131.78 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,858.158 238.764,858.158 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,584.536 238.764,584.536 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  219.866,310.914 238.764,310.914 
  "/>
<path clip-path="url(#clip540)" d="M126.691 1391.2 Q123.08 1391.2 121.251 1394.77 Q119.445 1398.31 119.445 1405.44 Q119.445 1412.54 121.251 1416.11 Q123.08 1419.65 126.691 1419.65 Q130.325 1419.65 132.13 1416.11 Q133.959 1412.54 133.959 1405.44 Q133.959 1398.31 132.13 1394.77 Q130.325 1391.2 126.691 1391.2 M126.691 1387.5 Q132.501 1387.5 135.556 1392.1 Q138.635 1396.69 138.635 1405.44 Q138.635 1414.16 135.556 1418.77 Q132.501 1423.35 126.691 1423.35 Q120.88 1423.35 117.802 1418.77 Q114.746 1414.16 114.746 1405.44 Q114.746 1396.69 117.802 1392.1 Q120.88 1387.5 126.691 1387.5 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M146.853 1416.8 L151.737 1416.8 L151.737 1422.68 L146.853 1422.68 L146.853 1416.8 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M171.922 1391.2 Q168.311 1391.2 166.482 1394.77 Q164.677 1398.31 164.677 1405.44 Q164.677 1412.54 166.482 1416.11 Q168.311 1419.65 171.922 1419.65 Q175.556 1419.65 177.362 1416.11 Q179.19 1412.54 179.19 1405.44 Q179.19 1398.31 177.362 1394.77 Q175.556 1391.2 171.922 1391.2 M171.922 1387.5 Q177.732 1387.5 180.788 1392.1 Q183.866 1396.69 183.866 1405.44 Q183.866 1414.16 180.788 1418.77 Q177.732 1423.35 171.922 1423.35 Q166.112 1423.35 163.033 1418.77 Q159.978 1414.16 159.978 1405.44 Q159.978 1396.69 163.033 1392.1 Q166.112 1387.5 171.922 1387.5 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M128.288 1117.58 Q124.677 1117.58 122.848 1121.14 Q121.043 1124.68 121.043 1131.81 Q121.043 1138.92 122.848 1142.49 Q124.677 1146.03 128.288 1146.03 Q131.922 1146.03 133.728 1142.49 Q135.556 1138.92 135.556 1131.81 Q135.556 1124.68 133.728 1121.14 Q131.922 1117.58 128.288 1117.58 M128.288 1113.87 Q134.098 1113.87 137.154 1118.48 Q140.232 1123.06 140.232 1131.81 Q140.232 1140.54 137.154 1145.15 Q134.098 1149.73 128.288 1149.73 Q122.478 1149.73 119.399 1145.15 Q116.343 1140.54 116.343 1131.81 Q116.343 1123.06 119.399 1118.48 Q122.478 1113.87 128.288 1113.87 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M148.45 1143.18 L153.334 1143.18 L153.334 1149.06 L148.45 1149.06 L148.45 1143.18 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M167.547 1145.12 L183.866 1145.12 L183.866 1149.06 L161.922 1149.06 L161.922 1145.12 Q164.584 1142.37 169.167 1137.74 Q173.774 1133.09 174.954 1131.74 Q177.2 1129.22 178.079 1127.49 Q178.982 1125.73 178.982 1124.04 Q178.982 1121.28 177.038 1119.55 Q175.116 1117.81 172.014 1117.81 Q169.815 1117.81 167.362 1118.57 Q164.931 1119.34 162.153 1120.89 L162.153 1116.17 Q164.977 1115.03 167.431 1114.45 Q169.885 1113.87 171.922 1113.87 Q177.292 1113.87 180.487 1116.56 Q183.681 1119.25 183.681 1123.74 Q183.681 1125.87 182.871 1127.79 Q182.084 1129.68 179.977 1132.28 Q179.399 1132.95 176.297 1136.17 Q173.195 1139.36 167.547 1145.12 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M126.205 843.957 Q122.593 843.957 120.765 847.521 Q118.959 851.063 118.959 858.193 Q118.959 865.299 120.765 868.864 Q122.593 872.405 126.205 872.405 Q129.839 872.405 131.644 868.864 Q133.473 865.299 133.473 858.193 Q133.473 851.063 131.644 847.521 Q129.839 843.957 126.205 843.957 M126.205 840.253 Q132.015 840.253 135.07 844.859 Q138.149 849.443 138.149 858.193 Q138.149 866.919 135.07 871.526 Q132.015 876.109 126.205 876.109 Q120.394 876.109 117.316 871.526 Q114.26 866.919 114.26 858.193 Q114.26 849.443 117.316 844.859 Q120.394 840.253 126.205 840.253 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M146.366 869.558 L151.251 869.558 L151.251 875.438 L146.366 875.438 L146.366 869.558 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M174.283 844.952 L162.477 863.401 L174.283 863.401 L174.283 844.952 M173.056 840.878 L178.936 840.878 L178.936 863.401 L183.866 863.401 L183.866 867.29 L178.936 867.29 L178.936 875.438 L174.283 875.438 L174.283 867.29 L158.681 867.29 L158.681 862.776 L173.056 840.878 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M126.529 570.335 Q122.918 570.335 121.089 573.899 Q119.283 577.441 119.283 584.571 Q119.283 591.677 121.089 595.242 Q122.918 598.784 126.529 598.784 Q130.163 598.784 131.968 595.242 Q133.797 591.677 133.797 584.571 Q133.797 577.441 131.968 573.899 Q130.163 570.335 126.529 570.335 M126.529 566.631 Q132.339 566.631 135.394 571.237 Q138.473 575.821 138.473 584.571 Q138.473 593.297 135.394 597.904 Q132.339 602.487 126.529 602.487 Q120.718 602.487 117.64 597.904 Q114.584 593.297 114.584 584.571 Q114.584 575.821 117.64 571.237 Q120.718 566.631 126.529 566.631 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M146.691 595.936 L151.575 595.936 L151.575 601.816 L146.691 601.816 L146.691 595.936 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M172.339 582.673 Q169.19 582.673 167.339 584.825 Q165.51 586.978 165.51 590.728 Q165.51 594.455 167.339 596.631 Q169.19 598.784 172.339 598.784 Q175.487 598.784 177.315 596.631 Q179.167 594.455 179.167 590.728 Q179.167 586.978 177.315 584.825 Q175.487 582.673 172.339 582.673 M181.621 568.02 L181.621 572.279 Q179.862 571.446 178.056 571.006 Q176.274 570.566 174.514 570.566 Q169.885 570.566 167.431 573.691 Q165.001 576.816 164.653 583.136 Q166.019 581.122 168.079 580.057 Q170.139 578.969 172.616 578.969 Q177.825 578.969 180.834 582.14 Q183.866 585.288 183.866 590.728 Q183.866 596.052 180.718 599.27 Q177.57 602.487 172.339 602.487 Q166.343 602.487 163.172 597.904 Q160.001 593.297 160.001 584.571 Q160.001 576.376 163.89 571.515 Q167.778 566.631 174.329 566.631 Q176.089 566.631 177.871 566.978 Q179.676 567.325 181.621 568.02 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M126.783 296.713 Q123.172 296.713 121.343 300.278 Q119.538 303.819 119.538 310.949 Q119.538 318.055 121.343 321.62 Q123.172 325.162 126.783 325.162 Q130.417 325.162 132.223 321.62 Q134.052 318.055 134.052 310.949 Q134.052 303.819 132.223 300.278 Q130.417 296.713 126.783 296.713 M126.783 293.009 Q132.593 293.009 135.649 297.616 Q138.728 302.199 138.728 310.949 Q138.728 319.676 135.649 324.282 Q132.593 328.865 126.783 328.865 Q120.973 328.865 117.894 324.282 Q114.839 319.676 114.839 310.949 Q114.839 302.199 117.894 297.616 Q120.973 293.009 126.783 293.009 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M146.945 322.315 L151.829 322.315 L151.829 328.194 L146.945 328.194 L146.945 322.315 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M172.014 311.782 Q168.681 311.782 166.76 313.565 Q164.862 315.347 164.862 318.472 Q164.862 321.597 166.76 323.379 Q168.681 325.162 172.014 325.162 Q175.348 325.162 177.269 323.379 Q179.19 321.574 179.19 318.472 Q179.19 315.347 177.269 313.565 Q175.371 311.782 172.014 311.782 M167.339 309.791 Q164.329 309.051 162.64 306.991 Q160.973 304.93 160.973 301.967 Q160.973 297.824 163.913 295.417 Q166.876 293.009 172.014 293.009 Q177.176 293.009 180.116 295.417 Q183.056 297.824 183.056 301.967 Q183.056 304.93 181.366 306.991 Q179.7 309.051 176.714 309.791 Q180.093 310.578 181.968 312.87 Q183.866 315.162 183.866 318.472 Q183.866 323.495 180.788 326.18 Q177.732 328.865 172.014 328.865 Q166.297 328.865 163.218 326.18 Q160.163 323.495 160.163 318.472 Q160.163 315.162 162.061 312.87 Q163.959 310.578 167.339 309.791 M165.626 302.407 Q165.626 305.092 167.292 306.597 Q168.982 308.102 172.014 308.102 Q175.024 308.102 176.714 306.597 Q178.426 305.092 178.426 302.407 Q178.426 299.722 176.714 298.217 Q175.024 296.713 172.014 296.713 Q168.982 296.713 167.292 298.217 Q165.626 299.722 165.626 302.407 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M28.3562 737.392 L45.7028 750.283 L64.0042 736.724 L64.0042 743.631 L49.9996 754.007 L64.0042 764.383 L64.0042 771.29 L45.3526 757.444 L28.3562 770.112 L28.3562 763.205 L41.0558 753.752 L28.3562 744.299 L28.3562 737.392 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M58.5933 726.507 L58.5933 716.003 L22.3406 716.003 L24.6323 727.43 L18.7758 727.43 L16.4842 716.067 L16.4842 709.638 L58.5933 709.638 L58.5933 699.134 L64.0042 699.134 L64.0042 726.507 L58.5933 726.507 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><polyline clip-path="url(#clip542)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  280.231,1031.27 300.556,1114.81 320.881,332.75 341.206,797.806 361.53,1119.95 381.855,876.568 402.18,183.251 422.505,894.307 442.83,1082.92 463.155,994.028 
  483.48,216.654 503.804,974.495 524.129,876.047 544.454,321.966 564.779,464.949 585.104,464.928 605.429,720.69 625.753,675.317 646.078,561.285 666.403,86.1857 
  686.728,548.119 707.053,674.089 727.378,288.29 747.703,966.69 768.027,701.768 788.352,534.774 808.677,1101.6 829.002,1101.01 849.327,1205.12 869.652,1033.06 
  889.977,687.515 910.301,1286.13 930.626,976.858 950.951,1227.45 971.276,1352.1 991.601,981.77 1011.93,639.184 1032.25,526.354 1052.58,945.734 1072.9,942.589 
  1093.23,154.218 1113.55,1374.35 1133.87,510.542 1154.2,1090.99 1174.52,125.693 1194.85,915.073 1215.17,834.073 1235.5,1018.64 1255.82,320.874 1276.15,90.9394 
  1296.47,780.075 1316.8,926.624 1337.12,145.174 1357.45,298.148 1377.77,757.31 1398.1,808.065 1418.42,842.686 1438.75,991.405 1459.07,403.264 1479.4,684.025 
  1499.72,595.886 1520.05,511.248 1540.37,1097.22 1560.7,618.854 1581.02,821.988 1601.35,871.582 1621.67,1029.6 1642,809.999 1662.32,342.313 1682.65,1348.27 
  1702.97,1298.25 1723.3,277.885 1743.62,1384.24 1763.95,705.082 1784.27,571.325 1804.59,449.908 1824.92,396.122 1845.24,463.911 1865.57,1068.77 1885.89,1158.33 
  1906.22,280.959 1926.54,247.901 1946.87,672.132 1967.19,848.447 1987.52,786.941 2007.84,526.26 2028.17,1159.9 2048.49,460.038 2068.82,1214.66 2089.14,1015.95 
  2109.47,114.319 2129.79,765.523 2150.12,1319.83 2170.44,263.299 2190.77,978.432 2211.09,1241.71 2231.42,1374.16 2251.74,1177.55 2272.07,870.394 2292.39,642.981 
  
  "/>
<path clip-path="url(#clip540)" d="
M1992.2 196.789 L2281.66 196.789 L2281.66 93.1086 L1992.2 93.1086  Z
  " fill="#ffffff" fill-rule="evenodd" fill-opacity="1"/>
<polyline clip-path="url(#clip540)" style="stroke:#000000; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  1992.2,196.789 2281.66,196.789 2281.66,93.1086 1992.2,93.1086 1992.2,196.789 
  "/>
<polyline clip-path="url(#clip540)" style="stroke:#009af9; stroke-linecap:butt; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="
  2015.89,144.949 2158.09,144.949 
  "/>
<path clip-path="url(#clip540)" d="M2206.44 136.303 L2197.06 148.919 L2206.92 162.229 L2201.9 162.229 L2194.35 152.043 L2186.81 162.229 L2181.79 162.229 L2191.85 148.664 L2182.64 136.303 L2187.67 136.303 L2194.54 145.539 L2201.41 136.303 L2206.44 136.303 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /><path clip-path="url(#clip540)" d="M2214.35 158.293 L2221.99 158.293 L2221.99 131.928 L2213.68 133.595 L2213.68 129.335 L2221.95 127.669 L2226.62 127.669 L2226.62 158.293 L2234.26 158.293 L2234.26 162.229 L2214.35 162.229 L2214.35 158.293 Z" fill="#000000" fill-rule="evenodd" fill-opacity="1" /></svg>
<h2 id="Applying-a-function-over-a-period"><a class="docs-heading-anchor" href="#Applying-a-function-over-a-period">Applying a function over a period</a><a id="Applying-a-function-over-a-period-1"></a><a class="docs-heading-anchor-permalink" href="#Applying-a-function-over-a-period" title="Permalink"></a></h2><p>The <code>apply</code> method allows you to aggregate the TS object over a period type (<code>Dates.Period</code>(@ref)) and return the output of applying the function on each period. For example, to convert frequency of daily timeseries to monthly you may use <code>first()</code>, <code>last()</code>, or <code>Statistics.mean()</code> functions and the period as <code>Dates.Month</code>.</p><pre><code class="language-julia hljs">julia&gt; using Statistics

# convert to monthly series using the last value for each month
julia&gt; ts_monthly = apply(ts, Month, last)
(15 x 1) TS with Date Index

 Index       value_last
 Date        Float64
────────────────────────
 2007-01-01    10.5902
 2007-02-01     8.85252
 2007-03-01     8.85252
 2007-04-01     9.04647
 2007-05-01     9.04647
 2007-06-01     8.26072
 2007-07-01     8.26072
 2007-08-01     8.26072
 2007-09-01     9.95546
 2007-10-01     9.95546
 2007-11-01     7.88032
 2007-12-01     7.88032
 2008-01-01     7.88032
 2008-02-01    10.6328
 2008-03-01     8.85252


# compute weekly standard deviation
julia&gt; ts_weekly = apply(ts, Week, Statistics.std)
(62 x 1) TS with Date Index

 Index       value_std
 Date        Float64
───────────────────────
 2007-01-01   1.52077
 2007-01-08   0.910942
 2007-01-15   0.876362
 2007-01-22   1.08075
 2007-01-29   1.17684
 2007-02-05   1.40065
 2007-02-12   0.630415
 2007-02-19   1.38134
 2007-02-26   1.10601
 2007-03-05   1.51014
     ⋮           ⋮
 2008-01-07   1.47589
 2008-01-14   0.923073
 2008-01-21   0.885798
 2008-01-28   1.16116
 2008-02-04   1.22311
 2008-02-11   1.40016
 2008-02-18   0.680589
 2008-02-25   1.37616
 2008-03-03   0.702384
        43 rows omitted

# same as above but index contains the last date of the week
julia&gt; apply(ts, Week, Statistics.std, last)
(62 x 1) TS with Date Index

 Index       value_std
 Date        Float64
───────────────────────
 2007-01-07   1.52077
 2007-01-14   0.910942
 2007-01-21   0.876362
 2007-01-28   1.08075
 2007-02-04   1.17684
 2007-02-11   1.40065
 2007-02-18   0.630415
 2007-02-25   1.38134
 2007-03-04   1.10601
 2007-03-11   1.51014
     ⋮           ⋮
 2008-01-13   1.47589
 2008-01-20   0.923073
 2008-01-27   0.885798
 2008-02-03   1.16116
 2008-02-10   1.22311
 2008-02-17   1.40016
 2008-02-24   0.680589
 2008-03-02   1.37616
 2008-03-06   0.702384
        43 rows omitted
</code></pre><h2 id="Joins:-Row-and-column-binding-with-other-objects"><a class="docs-heading-anchor" href="#Joins:-Row-and-column-binding-with-other-objects">Joins: Row and column binding with other objects</a><a id="Joins:-Row-and-column-binding-with-other-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Joins:-Row-and-column-binding-with-other-objects" title="Permalink"></a></h2><p>TSx provides methods to join two TS objects by columns: <code>join</code> (alias: <code>cbind</code>) or by rows: <code>vcat</code> (alias: <code>rbind</code>). Both the methods provide some basic intelligence while doing the merge. <code>join</code> merges two datasets based on the <code>Index</code> values of both objects. Depending on the join strategy employed the final object may only contain index values only from the left object (using <code>JoinLeft</code>), the right object (using <code>JoinRight</code>), intersection of both objects (using <code>JoinBoth</code>), or a union of both objects (<code>JoinAll</code>) while inserting <code>missing</code> values where index values are missing from any of the other object.</p><pre><code class="language-julia hljs">julia&gt; dates = collect(Date(2007,1,1):Day(1):Date(2007,1,30));
julia&gt; ts2 = TS(rand(length(dates)), dates)
(30 x 1) TS with Date Index

 Index       x1        
 Date        Float64   
───────────────────────
 2007-01-01  0.125811
 2007-01-02  0.06005
 2007-01-03  0.324745
 2007-01-04  0.873089
 2007-01-05  0.781964
 2007-01-06  0.570593
 2007-01-07  0.770224
 2007-01-08  0.295923
 2007-01-09  0.363075
 2007-01-10  0.985884
     ⋮           ⋮
 2007-01-22  0.222852
 2007-01-23  0.818168
 2007-01-24  0.718452
 2007-01-25  0.863064
 2007-01-26  0.0572773
 2007-01-27  0.282689
 2007-01-28  0.547679
 2007-01-29  0.380771
 2007-01-30  0.945756
        11 rows omitted


# cbind/join on Index column
julia&gt; join(ts, ts2, JoinAll)
(431 x 2) TS with Date Index

 Index       value     x1
 Date        Float64?  Float64?
──────────────────────────────────────
 2007-01-01  10.1248         0.441924
 2007-01-02  10.3424         0.140323
 2007-01-03   7.83777        0.71753
 2007-01-04   9.87616        0.762919
 2007-01-05  12.4548         0.210845
 2007-01-06   8.63084        0.3652
 2007-01-07   8.67409        0.924636
 2007-01-08   9.75221        0.864424
 2007-01-09   8.76406        0.730909
 2007-01-10  10.8087         0.985619
     ⋮          ⋮            ⋮
 2008-02-27  10.2757   missing
 2008-02-28  10.6202   missing
 2008-02-29  10.6328   missing
 2008-03-01  10.5008   missing
 2008-03-02   7.88032  missing
 2008-03-03   9.95546  missing
 2008-03-04   8.26072  missing
 2008-03-05   9.04647  missing
 2008-03-06   8.85252  missing
                      412 rows omitted
</code></pre><p><code>vcat</code> also works similarly but merges two datasets by rows. This method also uses certain strategies to check for certain conditions before doing the merge, throwing an error if the conditions are not satisfied. <code>setequal</code> merges only if both objects have same column names, <code>orderequal</code> merges only if both objects have same column names and columns are in the same order, <code>intersect</code> merges only the columns which are common to both objects, and <code>union</code> which merges even if the columns differ between the two objects, the resulting object has the columns filled with <code>missing</code>, if necessary.</p><p>For <code>vcat</code>, if the values of <code>Index</code> are same in the two objects then all the index values along with values in other columns are kept in the resulting object. So, a <code>vcat</code> operation may result in duplicate <code>Index</code> values and the results from other operations may differ or even throw unknown errors.</p><pre><code class="language-julia hljs">julia&gt; dates = collect(Date(2008,4,1):Day(1):Date(2008,4,30));
julia&gt; ts3 = TS(DataFrame(values=rand(length(dates)), Index=dates))
(30 x 1) TS with Date Index

 Index       values
 Date        Float64
───────────────────────
 2008-04-01  0.738621
 2008-04-02  0.142737
 2008-04-03  0.760334
 2008-04-04  0.742455
 2008-04-05  0.689045
 2008-04-06  0.310307
 2008-04-07  0.839686
 2008-04-08  0.736732
 2008-04-09  0.24704
 2008-04-10  0.850607
     ⋮           ⋮
 2008-04-22  0.780828
 2008-04-23  0.179
 2008-04-24  0.226587
 2008-04-25  0.710613
 2008-04-26  0.507179
 2008-04-27  0.761281
 2008-04-28  0.0944633
 2008-04-29  0.253298
 2008-04-30  0.995585
        11 rows omitted


# do the merge
julia&gt; vcat(ts, ts3)
(461 x 2) TS with Date Index

 Index       value          values
 Date        Float64?       Float64?
────────────────────────────────────────────
 2007-01-01       10.1248   missing
 2007-01-02       10.3424   missing
 2007-01-03        7.83777  missing
 2007-01-04        9.87616  missing
 2007-01-05       12.4548   missing
 2007-01-06        8.63084  missing
 2007-01-07        8.67409  missing
 2007-01-08        9.75221  missing
 2007-01-09        8.76406  missing
 2007-01-10       10.8087   missing
     ⋮             ⋮               ⋮
 2008-04-22  missing              0.780828
 2008-04-23  missing              0.179
 2008-04-24  missing              0.226587
 2008-04-25  missing              0.710613
 2008-04-26  missing              0.507179
 2008-04-27  missing              0.761281
 2008-04-28  missing              0.0944633
 2008-04-29  missing              0.253298
 2008-04-30  missing              0.995585
                            442 rows omitted
</code></pre><h2 id="Rolling-window-operations"><a class="docs-heading-anchor" href="#Rolling-window-operations">Rolling window operations</a><a id="Rolling-window-operations-1"></a><a class="docs-heading-anchor-permalink" href="#Rolling-window-operations" title="Permalink"></a></h2><p>The <code>rollapply</code> applies a function over a fixed-size rolling window on the dataset. In the example below, we compute the 10-day average of dataset values on a rolling basis.</p><pre><code class="language-julia hljs">julia&gt; rollapply(Statistics.mean, ts, :value, 10)
(422 x 1) TS with Date Index

 Index       value_rolling_mean
 Date        Float64
────────────────────────────────
 2007-01-10             9.72658
 2007-01-11             9.68858
 2007-01-12             9.76428
 2007-01-13             9.93465
 2007-01-14            10.0637
 2007-01-15             9.83266
 2007-01-16            10.0798
 2007-01-17            10.2655
 2007-01-18            10.2984
 2007-01-19            10.6809
     ⋮               ⋮
 2008-02-27            10.6276
 2008-02-28            10.7151
 2008-02-29            10.6685
 2008-03-01            10.7644
 2008-03-02            10.4357
 2008-03-03            10.4169
 2008-03-04            10.1327
 2008-03-05             9.98425
 2008-03-06             9.86139
                403 rows omitted
</code></pre><h2 id="Computing-rolling-difference-and-percent-change"><a class="docs-heading-anchor" href="#Computing-rolling-difference-and-percent-change">Computing rolling difference and percent change</a><a id="Computing-rolling-difference-and-percent-change-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-rolling-difference-and-percent-change" title="Permalink"></a></h2><p>Similar to <code>apply</code> and <code>rollapply</code> there are specific methods to compute rolling differences and percent changes of a <code>TS</code> object. The <code>diff</code> method computes mathematical difference of values in adjacent rows, inserting <code>missing</code> in the first row. <code>pctchange</code> computes the percentage change between adjacent rows.</p><pre><code class="language-julia hljs">julia&gt; diff(ts)
^P(431 x 1) TS with Date Index

 Index       value
 Date        Float64?
─────────────────────────────
 2007-01-01  missing
 2007-01-02        0.217575
 2007-01-03       -2.50463
 2007-01-04        2.03838
 2007-01-05        2.57865
 2007-01-06       -3.82397
 2007-01-07        0.0432507
 2007-01-08        1.07813
 2007-01-09       -0.988155
 2007-01-10        2.0446
     ⋮              ⋮
 2008-02-27       -2.31316
 2008-02-28        0.344553
 2008-02-29        0.0126078
 2008-03-01       -0.131995
 2008-03-02       -2.62052
 2008-03-03        2.07514
 2008-03-04       -1.69474
 2008-03-05        0.785754
 2008-03-06       -0.193954
             412 rows omitted


julia&gt; pctchange(ts)
(431 x 1) TS with Date Index

 Index       value
 Date        Float64?
──────────────────────────────
 2007-01-01  missing
 2007-01-02        0.0214893
 2007-01-03       -0.242171
 2007-01-04        0.260072
 2007-01-05        0.261099
 2007-01-06       -0.307028
 2007-01-07        0.00501119
 2007-01-08        0.124293
 2007-01-09       -0.101326
 2007-01-10        0.233293
     ⋮              ⋮
 2008-02-27       -0.183747
 2008-02-28        0.0335309
 2008-02-29        0.00118715
 2008-03-01       -0.0124139
 2008-03-02       -0.249554
 2008-03-03        0.263332
 2008-03-04       -0.170232
 2008-03-05        0.0951193
 2008-03-06       -0.0214398
              412 rows omitted
</code></pre><h2 id="Computing-log-of-data-values"><a class="docs-heading-anchor" href="#Computing-log-of-data-values">Computing log of data values</a><a id="Computing-log-of-data-values-1"></a><a class="docs-heading-anchor-permalink" href="#Computing-log-of-data-values" title="Permalink"></a></h2><p>The <code>log</code> method computes the log of each data value. The method throws an error if it encounters a negative number in the data. This method retains <code>missing</code> values in the resulting object if they were present in the input.</p><pre><code class="language-julia hljs">julia&gt; log(ts)
(431 x 1) TS with Date Index

 Index       value_log
 Date        Float64
───────────────────────
 2007-01-01    2.31499
 2007-01-02    2.33625
 2007-01-03    2.05895
 2007-01-04    2.29012
 2007-01-05    2.52211
 2007-01-06    2.15534
 2007-01-07    2.16034
 2007-01-08    2.27749
 2007-01-09    2.17066
 2007-01-10    2.38035
     ⋮           ⋮
 2008-02-27    2.32978
 2008-02-28    2.36276
 2008-02-29    2.36395
 2008-03-01    2.35146
 2008-03-02    2.06437
 2008-03-03    2.29812
 2008-03-04    2.11151
 2008-03-05    2.20238
 2008-03-06    2.1807
       412 rows omitted
</code></pre><h2 id="Creating-lagged/leading-series"><a class="docs-heading-anchor" href="#Creating-lagged/leading-series">Creating lagged/leading series</a><a id="Creating-lagged/leading-series-1"></a><a class="docs-heading-anchor-permalink" href="#Creating-lagged/leading-series" title="Permalink"></a></h2><p><code>lag()</code> and <code>lead()</code> provide ways to lag or lead a series respectively by a fixed value, inserting <code>missing</code> where required.</p><pre><code class="language-julia hljs">julia&gt; lag(ts, 2)
(431 x 1) TS with Date Index

 Index       value
 Date        Float64?
───────────────────────────
 2007-01-01  missing
 2007-01-02  missing
 2007-01-03       10.1248
 2007-01-04       10.3424
 2007-01-05        7.83777
 2007-01-06        9.87616
 2007-01-07       12.4548
 2007-01-08        8.63084
 2007-01-09        8.67409
 2007-01-10        9.75221
     ⋮             ⋮
 2008-02-27       10.0811
 2008-02-28       12.5888
 2008-02-29       10.2757
 2008-03-01       10.6202
 2008-03-02       10.6328
 2008-03-03       10.5008
 2008-03-04        7.88032
 2008-03-05        9.95546
 2008-03-06        8.26072
           412 rows omitted


julia&gt; lead(ts, 2)
(431 x 1) TS with Date Index

 Index       value
 Date        Float64?
───────────────────────────
 2007-01-01        7.83777
 2007-01-02        9.87616
 2007-01-03       12.4548
 2007-01-04        8.63084
 2007-01-05        8.67409
 2007-01-06        9.75221
 2007-01-07        8.76406
 2007-01-08       10.8087
 2007-01-09        9.74481
 2007-01-10       11.0995
     ⋮             ⋮
 2008-02-27       10.6328
 2008-02-28       10.5008
 2008-02-29        7.88032
 2008-03-01        9.95546
 2008-03-02        8.26072
 2008-03-03        9.04647
 2008-03-04        8.85252
 2008-03-05  missing
 2008-03-06  missing
           412 rows omitted
</code></pre><h2 id="Converting-to-Matrix-and-DataFrame"><a class="docs-heading-anchor" href="#Converting-to-Matrix-and-DataFrame">Converting to Matrix and DataFrame</a><a id="Converting-to-Matrix-and-DataFrame-1"></a><a class="docs-heading-anchor-permalink" href="#Converting-to-Matrix-and-DataFrame" title="Permalink"></a></h2><p>You can easily convert a TS object into a <code>Matrix</code> or fetch the <code>DataFrame</code> for doing operations which are outside of the TSx scope.</p><pre><code class="language-julia hljs"># convert column 1 to a vector of floats
julia&gt; ts[:, 1]
431-element Vector{Float64}:
 10.1248338098958
 10.3424091138411
  7.83777413591419
  9.87615632977506
 12.4548084674329
  8.63083527336206
  8.67408599632254
  9.75221297863206
  8.76405813698277
 10.8086548113129
  9.74480982888519
  ⋮
 10.0811113869023
 12.5888345885963
 10.2756782417694
 10.6202311288555
 10.6328389451372
 10.5008434702989
  7.88032001621439
  9.95545794087256
  8.2607203222573
  9.04647411362002
  8.85251977208324


# convert entire TS into a Matrix
julia&gt; Matrix(ts)
431×1 Matrix{Float64}:
 10.1248338098958
 10.3424091138411
  7.83777413591419
  9.87615632977506
 12.4548084674329
  8.63083527336206
  8.67408599632254
  9.75221297863206
  8.76405813698277
 10.8086548113129
  9.74480982888519
  ⋮
 10.0811113869023
 12.5888345885963
 10.2756782417694
 10.6202311288555
 10.6328389451372
 10.5008434702989
  7.88032001621439
  9.95545794087256
  8.2607203222573
  9.04647411362002
  8.85251977208324


# use the underlying DataFrame for other operations
julia&gt; select(ts.coredata, :value, DataFrames.nrow)
431×2 DataFrame
 Row │ value     nrow
     │ Float64   Int64
─────┼─────────────────
   1 │ 10.1248     431
   2 │ 10.3424     431
   3 │  7.83777    431
   4 │  9.87616    431
   5 │ 12.4548     431
   6 │  8.63084    431
   7 │  8.67409    431
   8 │  9.75221    431
   9 │  8.76406    431
  ⋮  │    ⋮        ⋮
 423 │ 10.2757     431
 424 │ 10.6202     431
 425 │ 10.6328     431
 426 │ 10.5008     431
 427 │  7.88032    431
 428 │  9.95546    431
 429 │  8.26072    431
 430 │  9.04647    431
 431 │  8.85252    431
       413 rows omitted
</code></pre><h2 id="Writing-TS-into-a-CSV-file"><a class="docs-heading-anchor" href="#Writing-TS-into-a-CSV-file">Writing TS into a CSV file</a><a id="Writing-TS-into-a-CSV-file-1"></a><a class="docs-heading-anchor-permalink" href="#Writing-TS-into-a-CSV-file" title="Permalink"></a></h2><p>Writing a TS object into a CSV file can be done easily by using the underlying <code>coredata</code> property. This <code>DataFrame</code> can be passed to the <code>CSV.write</code> method for writing into a file.</p><pre><code class="language-julia hljs">julia&gt; ts.coredata |&gt; CSV.write(&quot;/tmp/demo_ts.csv&quot;)
&quot;/tmp/demo_ts.csv&quot;</code></pre><h2 id="API-reference"><a class="docs-heading-anchor" href="#API-reference">API reference</a><a id="API-reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-reference" title="Permalink"></a></h2><ul><li><a href="../api/#TSx.TS"><code>TSx.TS</code></a></li><li><a href="../api/#Base.convert-Tuple{Type{Matrix}, TS}"><code>Base.convert</code></a></li><li><a href="../api/#Base.getindex-Tuple{TS, Int64}"><code>Base.getindex</code></a></li><li><a href="../api/#Base.join-Tuple{TS, TS}"><code>Base.join</code></a></li><li><a href="../api/#Base.log-Tuple{TS}"><code>Base.log</code></a></li><li><a href="../api/#Base.size-Tuple{TS}"><code>Base.size</code></a></li><li><a href="../api/#Base.vcat-Tuple{TS, TS}"><code>Base.vcat</code></a></li><li><a href="../api/#RecipesBase.apply_recipe"><code>RecipesBase.apply_recipe</code></a></li><li><a href="../api/#TSx.apply-Union{Tuple{V}, Tuple{T}, Tuple{TS, Union{Type{T}, T}, V}, Tuple{TS, Union{Type{T}, T}, V, Function}} where {T&lt;:Union{Dates.DatePeriod, Dates.TimePeriod}, V&lt;:Function}"><code>TSx.apply</code></a></li><li><a href="../api/#TSx.describe-Tuple{IO, TS}"><code>TSx.describe</code></a></li><li><a href="../api/#TSx.index-Tuple{TS}"><code>TSx.index</code></a></li><li><a href="../api/#TSx.lag"><code>TSx.lag</code></a></li><li><a href="../api/#TSx.lead"><code>TSx.lead</code></a></li><li><a href="../api/#TSx.ncol-Tuple{TS}"><code>TSx.ncol</code></a></li><li><a href="../api/#TSx.nrow-Tuple{TS}"><code>TSx.nrow</code></a></li><li><a href="../api/#TSx.rollapply-Tuple{Function, TS, Any, Int64}"><code>TSx.rollapply</code></a></li><li><a href="../api/#TSx.subset-Union{Tuple{T}, Tuple{TS, T, T}} where T&lt;:Union{Int64, Dates.TimeType}"><code>TSx.subset</code></a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../demo_finance/">« Basic demo of TSx</a><a class="docs-footer-nextpage" href="../api/">API reference »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Sunday 24 April 2022 15:25">Sunday 24 April 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
